CREATE TABLE IF NOT EXISTS USERS (USERNAME VARCHAR2(64) PRIMARY KEY ,EMAIL VARCHAR2(64),ACCESS_TOKEN VARCHAR2(100),REFRESH_TOKEN VARCHAR2(100),TOKEN_EXPIRES_AT TIMESTAMP,STRAVA_ID NUMBER(20));
CREATE TABLE IF NOT EXISTS ACTIVITIES (ID NUMBER(20) NOT NULL ,NAME VARCHAR2(255),DATE TIMESTAMP,DISTANCE NUMBER(5,2),TIME NUMBER(6),SPEED_AVG NUMBER(5,2),SPEED_MAX NUMBER(5,2),STRAVA_ID NUMBER(20) NOT NULL,WHEEL NUMBER(20));
ALTER TABLE ACTIVITIES ADD CONSTRAINT IF NOT EXISTS PUBLIC.PK_ACTIVITIES PRIMARY KEY (ID,STRAVA_ID);
CREATE TABLE IF NOT EXISTS WHEELS (ID NUMBER(20) PRIMARY KEY AUTO_INCREMENT,USERNAME VARCHAR2(64),NAME VARCHAR2(100),START_DATE TIMESTAMP,LAST_ROTATION_DATE TIMESTAMP,TOTAL_KM NUMBER(8,2),CURRENT_KM NUMBER(8,2),ROTATION_COUNTER NUMBER(3) DEFAULT 0);
CREATE TABLE IF NOT EXISTS STATS (USERNAME VARCHAR2(64) PRIMARY KEY ,LAST_IMPORTED_ACT TIMESTAMP,CURRENT_WHEEL NUMBER(20),SPEED_MAX NUMBER(5,2),SPEED_AVG NUMBER(5,2),KM_MAX NUMBER(5,2),KM_AVG NUMBER(5,2),KM_TOTAL NUMBER(12,2),ROTATION_KM NUMBER(5,2),AUTOIMPORT VARCHAR2(1) DEFAULT 'Y');
